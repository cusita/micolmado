<div class="page">
  <header class="page__header">
    <button class="back-btn" routerLink="/">‚Üê</button>

    <h2>Clientes fiados</h2>
  </header>

  <p *ngIf="customers.length === 0" class="empty">
    No hay clientes con deudas registradas por ahora.
  </p>

  <ul *ngIf="customers.length > 0" class="list">
    <li *ngFor="let c of customers" class="item" [class.item--inactive]="c.balance <= 0">
      <div class="item__header">
        <span class="item__name">{{ c.customerName }}</span>
        <span class="item__balance">
          Debe: <strong>RD$ {{ c.balance | number : '1.0-0' }}</strong>
        </span>
      </div>

      <div class="item__details">
        <span>Fiado: RD$ {{ c.totalCredit | number : '1.0-0' }}</span>
        <span>Pagado: RD$ {{ c.totalPayments | number : '1.0-0' }}</span>
      </div>

      <!-- üîΩ Zona de pagos -->
      <div class="item__payment">
        <input type="number" min="1" placeholder="Monto a abonar" #amountInput />

        <button type="button" class="btn btn--small" (click)="addPayment(c, amountInput.value)">
          Abonar
        </button>

        <button type="button" class="btn btn--small btn--secondary" (click)="addFullPayment(c)">
          Pago total
        </button>
      </div>
    </li>
  </ul>

  <a routerLink="/" class="back">‚Üê Volver al inicio</a>
</div>
